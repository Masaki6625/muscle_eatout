<div>
  <%= flash[:notice] %>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-3">
      <%= render 'public/restaurants/tag_search', tags: @tag_list %>
    </div>
    <div class="col-md-9">
      <div class="top">
        <h1>レストラン一覧</h1>
        <h3>検索</h3>
        <%= search_form_for @q, url: restaurants_path do |f| %>
          <%= f.label :shop_name, 'レストラン名' %>
          <%= f.search_field :shop_name_cont %>
          <%= f.submit '検索', class: "btn btn-primary btn-sm" %>
          <%end%>
      </div>
      
      
      <div class="row">
        <% @restaurants.each do |restaurant| %>
        <div class="col-sm-6 col-md-4 mb-5">
          <div class="card">
            <%= link_to restaurant_path(restaurant.id) do %>
            <%= image_tag restaurant.get_image(253,255), class: "cord-img-top" %>
            <%end%>
          <div class="card-body">
            <h5 class="card-title">店名：<%= restaurant.shop_name %></h5>
            <p class="card-text">投稿者：<%= restaurant.user.name %></p>
            <p class="card-text">いいね数：<%= restaurant.favorites.count %></p>
            <p class="card-text">コメント数：<%= restaurant.comments.count %></p>
            <p class="card-text">タグ：<%= restaurant.tags.map(&:name).join(',') %></p>
          </div>
      </div>
    </div>
    <%end%>
  </div>
  </div>
</div>
</div>